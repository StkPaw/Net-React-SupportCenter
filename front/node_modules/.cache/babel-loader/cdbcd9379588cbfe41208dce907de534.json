{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Revelen\\\\source\\\\repos\\\\Net-React-SupportCente\\\\Frontend\\\\src\\\\components\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../styles/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  const [data, setData] = useState(1);\n\n  function handleClick(e) {\n    e.preventDefault();\n    console.log(\"dzialama\");\n    sendData(props, setData);\n  }\n\n  useEffect(() => {\n    const labels = document.querySelectorAll('.form-control label');\n    labels.forEach(label => {\n      label.innerHTML = label.innerText.split('').map((letter, idx) => `<span style=\"\n        transition-delay: ${idx * 50}ms\n      \">${letter}</span>`).join('');\n    });\n  }, []);\n\n  let errorek = /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 17\n  }, this);\n\n  if (data === 0) {\n    errorek = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"errorrek\",\n      children: \"Login Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 33\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-control\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"em\",\n        type: \"text\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-control\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"pass\",\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), errorek, /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      className: \"btn\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"csDiv\",\n      children: [\"No account? \", /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn1\",\n        onClick: () => {\n          props.setSwi({\n            status: \"createAcc\"\n          });\n        },\n        children: \"Sign up!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 48\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"rz3ZWMUTj1TBvsPdRZ/DMfMQbIY=\");\n\n_c = Login;\n;\n\nasync function sendData(props, setData) {\n  await fetch('/api/user', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      id: 0,\n      Email: document.querySelector(\"#em\").value,\n      Pass: document.querySelector(\"#pass\").value\n    })\n  }).then(response => response.json()).then(dane => {\n    if (dane.type === \"error\") {\n      setData(0);\n    }\n\n    if (dane.type === \"user\") {\n      props.setSwi({\n        status: \"goodLoginU\",\n        user: dane\n      });\n    }\n\n    ;\n\n    if (dane.type === \"moderator\") {\n      props.setSwi({\n        status: \"goodLoginM\",\n        user: dane\n      });\n    }\n\n    ;\n  });\n}\n\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Login","props","data","setData","handleClick","e","preventDefault","console","log","sendData","labels","document","querySelectorAll","forEach","label","innerHTML","innerText","split","map","letter","idx","join","errorek","setSwi","status","fetch","method","headers","body","JSON","stringify","id","Email","querySelector","value","Pass","then","response","json","dane","type","user"],"sources":["C:/Users/Revelen/source/repos/Net-React-SupportCente/Frontend/src/components/login.js"],"sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport '../styles/login.css';\r\n\r\nfunction Login (props){\r\n\r\n    const [data, setData] = useState(1);\r\n    \r\n\r\n    function handleClick(e) {\r\n        e.preventDefault();\r\n        console.log(\"dzialama\")\r\n        sendData(props, setData)\r\n        \r\n    }\r\n    useEffect(() => {\r\n        \r\n        const labels = document.querySelectorAll('.form-control label');\r\n\r\n        labels.forEach(label => {\r\n            label.innerHTML = label.innerText\r\n                .split('')\r\n                .map((letter, idx) => `<span style=\"\r\n        transition-delay: ${idx * 50}ms\r\n      \">${letter}</span>`)\r\n                .join('');\r\n        });\r\n    }, []);\r\n    \r\n    let errorek=<div></div>\r\n    if (data === 0) { errorek = <div className=\"errorrek\">Login Error</div>}\r\n    return (\r\n\r\n\r\n        <div >\r\n            <h1>Sign in</h1>\r\n            \r\n            <div className=\"form-control\">\r\n                <input id=\"em\"  type=\"text\" required />\r\n                <label>Email</label>\r\n            </div>\r\n\r\n            <div className=\"form-control\">\r\n                <input id=\"pass\"  type=\"password\" required />\r\n                <label>Password</label>\r\n            </div>\r\n            {errorek}\r\n            <button onClick={handleClick} className=\"btn\">Login</button>\r\n            <div className=\"csDiv\">No account? <button className=\"btn btn1\" onClick={() => { props.setSwi({status:\"createAcc\"}) }}>Sign up!</button></div>\r\n\r\n        </div>);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n};\r\n\r\n\r\n\r\nasync function sendData(props,setData) {\r\n    \r\n    await fetch('/api/user', {\r\n        method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ id: 0, Email: document.querySelector(\"#em\").value, Pass: document.querySelector(\"#pass\").value })\r\n    })\r\n        .then((response) => response.json())\r\n        .then((dane) => {\r\n            if (dane.type === \"error\")\r\n            { setData(0) }\r\n            if(dane.type===\"user\")\r\n            { props.setSwi({ status: \"goodLoginU\", user: dane }); };\r\n            if (dane.type === \"moderator\")\r\n            { props.setSwi({ status: \"goodLoginM\", user: dane}); };\r\n        });\r\n    \r\n}\r\nexport default Login;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}