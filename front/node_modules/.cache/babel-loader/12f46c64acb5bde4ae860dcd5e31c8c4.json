{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Revelen\\\\source\\\\repos\\\\Net-React-SupportCente\\\\front\\\\src\\\\components\\\\AssignTick.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AssignTick(props) {\n  _s();\n\n  const [data, setData] = useState({\n    tickets: [],\n    mess: 1\n  });\n  useEffect(props => {\n    fetch('/api/ticket/own', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(props.user)\n    }).then(response => response.json()).then(dane => {\n      setData({\n        tickets: dane,\n        mess: 1\n      });\n    });\n  }, []);\n\n  function handleClick(e) {\n    e.preventDefault();\n    setData({\n      tickets: data.arch,\n      mess: 1\n    });\n  }\n\n  function handleClick2(e) {\n    e.preventDefault();\n    sendData2(setData, props, data.tickets[e.target.dataset.value], data.tickets);\n  }\n\n  function handleClick3(e) {\n    e.preventDefault();\n    sendData(setData, props, data.tickets);\n  }\n\n  let s = [];\n\n  if (data.mess === 1) {\n    for (var i = 0; i < data.tickets.length; i++) {\n      s.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          \"animationDelay\": ((i + 1) / 10).toString() + \"s\"\n        },\n        \"data-value\": i,\n        onClick: handleClick2,\n        className: \"tick\",\n        children: [i + 1, \" \", data.tickets[i].topic]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 20\n      }, this));\n    }\n  } else {\n    s.push( /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Topic\"\n    }, 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this));\n    s.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tick2\",\n      children: data.tickets.topic\n    }, 1, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this));\n    s.push( /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Details\"\n    }, 2, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }, this));\n    s.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tick2\",\n      children: data.tickets.describe\n    }, 3, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }, this));\n    s.push( /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Conversation\"\n    }, 4, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this));\n    var licznik = 5;\n\n    for (var j = 0; j < data.mess.length; j++) {\n      console.log(data.mess[j]);\n      let a = {\n        \"backgroundColor\": \"#f5c093\",\n        \"textAlign\": \"left\"\n      };\n\n      if (data.mess[j].userId === null) {\n        a = {\n          \"backgroundColor\": \"#93c9f5\",\n          \"borderColor\": \"#008cff\",\n          \"textAlign\": \"right\"\n        };\n      }\n\n      s.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        style: a,\n        className: \"tick2\",\n        children: data.mess[j].tresc\n      }, j + 5, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 20\n      }, this));\n      licznik++;\n    }\n\n    s.push( /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick3,\n      style: {\n        \"marginLeft\": \"55px\",\n        \"display\": \"block\"\n      },\n      className: \"btn\",\n      children: \"Assign to Yourself\"\n    }, licznik + 3, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }, this));\n    s.push( /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      style: {\n        \"marginLeft\": \"55px\",\n        \"display\": \"block\"\n      },\n      className: \"btn\",\n      children: \"Back to List\"\n    }, licznik + 4, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }, this));\n  }\n\n  return s;\n}\n\n_s(AssignTick, \"pC2yB/yTFAeiVqs6WyK3YSoErBk=\");\n\n_c = AssignTick;\n\nasync function sendData2(setData, props, ticket, tickets) {\n  let obb = props.user;\n  obb.TicketId = ticket.id;\n  console.log(obb);\n  await fetch('/api/message', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(obb)\n  }).then(response => response.json()).then(dane => {\n    setData({\n      tickets: ticket,\n      mess: dane,\n      arch: tickets\n    });\n  });\n}\n\n;\n\nasync function sendData(setData, props, ticket) {\n  let obb = props.user;\n  obb.TicketId = ticket.id;\n  console.log(obb);\n  await fetch('/api/ticket/asg', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(obb)\n  }).then(response => response.json()).then(dane => {\n    fetch('/api/ticket/own', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(props.user)\n    }).then(response => response.json()).then(dane => {\n      setData({\n        tickets: dane,\n        mess: 1\n      });\n    });\n  });\n}\n\n;\nexport default AssignTick;\n\nvar _c;\n\n$RefreshReg$(_c, \"AssignTick\");","map":{"version":3,"names":["React","useState","useEffect","AssignTick","props","data","setData","tickets","mess","fetch","method","headers","body","JSON","stringify","user","then","response","json","dane","handleClick","e","preventDefault","arch","handleClick2","sendData2","target","dataset","value","handleClick3","sendData","s","i","length","push","toString","topic","describe","licznik","j","console","log","a","userId","tresc","ticket","obb","TicketId","id"],"sources":["C:/Users/Revelen/source/repos/Net-React-SupportCente/front/src/components/AssignTick.js"],"sourcesContent":["import React, { useState,useEffect } from 'react'\r\n\r\nfunction AssignTick(props) {\r\n\r\n    const [data, setData] = useState({ tickets: [], mess: 1 });\r\n\r\n    useEffect((props) => {\r\n        fetch('/api/ticket/own', {\r\n            method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(props.user)\r\n        })\r\n            .then((response) => response.json())\r\n            .then((dane) => { setData({ tickets: dane, mess: 1 }) })\r\n    }, []);\r\n\r\n    function handleClick(e) {\r\n        e.preventDefault();\r\n        setData({ tickets: data.arch,mess:1 })\r\n\r\n    }\r\n\r\n    function handleClick2(e) {\r\n        e.preventDefault();\r\n        sendData2(setData, props, data.tickets[e.target.dataset.value],data.tickets)\r\n\r\n    }\r\n\r\n    function handleClick3(e) {\r\n        e.preventDefault();\r\n        sendData(setData,props,data.tickets)\r\n    }\r\n\r\n    let s = [];\r\n    if (data.mess === 1) {\r\n        for (var i = 0; i < data.tickets.length; i++) {\r\n\r\n\r\n            s.push(<div style={{ \"animationDelay\": ((i + 1) / 10).toString() + \"s\" }} data-value={i} onClick={handleClick2} className=\"tick\" key={i} >{i + 1}{\" \"}{data.tickets[i].topic}</div>);\r\n\r\n        }\r\n    }\r\n    else {\r\n        s.push(<h3 key={0}>Topic</h3>)\r\n        s.push(<div key={1} className=\"tick2\">{data.tickets.topic}</div>)\r\n        s.push(<h3 key={2}>Details</h3>)\r\n        s.push(<div key={3} className=\"tick2\">{data.tickets.describe}</div>)\r\n        s.push(<h3 key={4}>Conversation</h3>)\r\n        var licznik = 5;\r\n        for (var j = 0; j < data.mess.length; j++) {\r\n\r\n            console.log(data.mess[j]);\r\n            let a = { \"backgroundColor\": \"#f5c093\", \"textAlign\": \"left\" };\r\n            if (data.mess[j].userId === null) {\r\n                a = { \"backgroundColor\": \"#93c9f5\", \"borderColor\": \"#008cff\", \"textAlign\": \"right\" }\r\n            }\r\n            s.push(<div style={a} className=\"tick2\" key={j + 5}>{data.mess[j].tresc}</div>);\r\n            licznik++;\r\n        }\r\n        s.push(<button key={licznik + 3} onClick={handleClick3} style={{ \"marginLeft\": \"55px\", \"display\": \"block\" }} className=\"btn\" >Assign to Yourself</button >)\r\n        s.push(<button key={licznik + 4} onClick={handleClick} style={{ \"marginLeft\": \"55px\", \"display\": \"block\" }} className=\"btn\" >Back to List</button >)\r\n    }\r\n\r\n\r\n    return (s);\r\n}\r\n    async function sendData2(setData, props, ticket,tickets) {\r\n\r\n        let obb = props.user;\r\n        obb.TicketId = ticket.id;\r\n        console.log(obb);\r\n\r\n        await fetch('/api/message', {\r\n            method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(obb)\r\n        })\r\n            .then((response) => response.json())\r\n            .then((dane) => { setData({ tickets: ticket, mess: dane,arch:tickets }) })\r\n\r\n    };\r\n\r\nasync function sendData(setData, props, ticket) {\r\n\r\n    let obb = props.user;\r\n    obb.TicketId = ticket.id;\r\n    console.log(obb);\r\n\r\n    await fetch('/api/ticket/asg', {\r\n        method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(obb)\r\n    })\r\n        .then((response) => response.json())\r\n        .then((dane) => {\r\n            fetch('/api/ticket/own', {\r\n                method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(props.user)\r\n            })\r\n            .then((response) => response.json())\r\n            .then((dane) => { setData({ tickets: dane, mess: 1 }) }) })\r\n\r\n};\r\nexport default AssignTick;"],"mappings":"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"},"metadata":{},"sourceType":"module"}